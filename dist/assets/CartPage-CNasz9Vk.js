import{e,k as s,l as t,j as n,L as l}from"./index-BaQYlZUa.js";import{T as a}from"./Toast-DNTvS9cc.js";const r=()=>{const{items:r,totalQuantity:c,totalAmount:i,updateItemQuantity:d,removeItem:m,isEmpty:o}=e(),{isAuthenticated:h}=s(),x=t(),j=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),g=(e,s,t,n)=>{d(e,s,t,n)};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Giỏ hàng của bạn"}),o?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("svg",{className:"w-24 h-24 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),n.jsx("h2",{className:"text-2xl font-medium mb-4",children:"Giỏ hàng của bạn đang trống"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Hãy thêm sản phẩm vào giỏ hàng để tiếp tục mua sắm."}),n.jsx(l,{to:"/",className:"btn btn-primary px-8 py-3",children:"Tiếp tục mua sắm"})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 bg-gray-50 p-4 text-gray-600 font-medium",children:[n.jsx("div",{className:"col-span-6",children:"Sản phẩm"}),n.jsx("div",{className:"col-span-2 text-center",children:"Đơn giá"}),n.jsx("div",{className:"col-span-2 text-center",children:"Số lượng"}),n.jsx("div",{className:"col-span-2 text-center",children:"Thành tiền"})]}),r.map(e=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 p-4 border-t border-gray-200",children:[n.jsx("div",{className:"col-span-1 md:col-span-6",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0 w-24 h-24",children:n.jsx("img",{src:e.image||"https://via.placeholder.com/100x100",alt:e.name,className:"w-full h-full object-cover rounded-md"})}),n.jsxs("div",{className:"ml-4 flex flex-col",children:[n.jsx(l,{to:`/product/${e.id}`,className:"text-lg font-medium hover:text-blue-600",children:e.name}),n.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[e.selectedSize&&n.jsxs("span",{className:"mr-4",children:["Kích thước: ",e.selectedSize]}),e.selectedColor&&n.jsxs("span",{children:["Màu: ",e.selectedColor]})]}),n.jsxs("button",{onClick:()=>{return s=e.id,t=e.selectedSize,n=e.selectedColor,m(s,t,n),void a.success("Đã xóa sản phẩm khỏi giỏ hàng");var s,t,n},className:"mt-auto text-sm text-red-500 hover:text-red-700 flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xóa"]})]})]})}),n.jsxs("div",{className:"col-span-1 md:col-span-2 flex md:block items-center",children:[n.jsx("span",{className:"md:hidden font-medium mr-2",children:"Đơn giá:"}),n.jsx("span",{className:"text-gray-900 md:text-center block",children:j(e.price)})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2 flex md:justify-center items-center",children:[n.jsx("span",{className:"md:hidden font-medium mr-2",children:"Số lượng:"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{className:"w-8 h-8 border border-gray-300 rounded-l-md flex items-center justify-center hover:bg-gray-100",onClick:()=>g(e.id,Math.max(1,e.quantity-1),e.selectedSize,e.selectedColor),children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})}),n.jsx("span",{className:"w-10 h-8 border-t border-b border-gray-300 flex items-center justify-center",children:e.quantity}),n.jsx("button",{className:"w-8 h-8 border border-gray-300 rounded-r-md flex items-center justify-center hover:bg-gray-100",onClick:()=>g(e.id,e.quantity+1,e.selectedSize,e.selectedColor),children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2 flex md:block items-center",children:[n.jsx("span",{className:"md:hidden font-medium mr-2",children:"Thành tiền:"}),n.jsx("span",{className:"text-gray-900 font-medium md:text-center block",children:j(e.totalPrice)})]})]},`${e.id}-${e.selectedSize}-${e.selectedColor}`))]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-bold mb-6",children:"Tổng giỏ hàng"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tổng số lượng:"}),n.jsxs("span",{className:"font-medium",children:[c," sản phẩm"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tạm tính:"}),n.jsx("span",{className:"font-medium",children:j(i)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Phí vận chuyển:"}),n.jsx("span",{className:"font-medium",children:i>=5e5?"Miễn phí":j(3e4)})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-lg font-bold",children:"Tổng cộng:"}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:j(i>=5e5?i:i+3e4)})]})}),n.jsx("button",{onClick:()=>{h?x("/checkout"):(a.info("Vui lòng đăng nhập để tiếp tục thanh toán"),x("/login",{state:{from:"/cart"}}))},className:"btn btn-primary w-full py-3 mt-4",children:"Tiến hành thanh toán"}),n.jsx(l,{to:"/",className:"block text-center text-blue-600 hover:text-blue-800 mt-4",children:"Tiếp tục mua sắm"})]})]})})]})]})};export{r as default};
